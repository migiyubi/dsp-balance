!function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=5)}([function(t){t.exports=JSON.parse('{"width":16,"height":16,"offsets":{"iron-ore":{"x":0,"y":0},"copper-ore":{"x":2,"y":0},"coal":{"x":2,"y":1},"stone-ore":{"x":0,"y":1},"silicon-ore":{"x":4,"y":0},"titanium-ore":{"x":6,"y":0},"fire-ice":{"x":0,"y":7},"kimberlite-ore":{"x":1,"y":7},"fractal-silicon":{"x":2,"y":7},"optical-grating-crystal":{"x":3,"y":7},"spiniform-stalagmite-crystal":{"x":4,"y":7},"unipolar-magnet":{"x":5,"y":7},"iron-ingot":{"x":1,"y":0},"copper-ingot":{"x":3,"y":0},"high-purity-silicon":{"x":5,"y":0},"titanium-ingot":{"x":7,"y":0},"stone-brick":{"x":1,"y":1},"energetic-graphite":{"x":3,"y":1},"plasma-refining":{"x":4,"y":1},"plastic":{"x":5,"y":1},"graphene":{"x":6,"y":1},"magnet":{"x":7,"y":1},"magnetic-coil":{"x":0,"y":2},"crystal-silicon":{"x":1,"y":2},"titanium-alloy":{"x":2,"y":2},"glass":{"x":3,"y":2},"diamond":{"x":4,"y":2},"organic-crystal":{"x":5,"y":2},"steel":{"x":6,"y":2},"electric-motor":{"x":7,"y":2},"titanium-glass":{"x":0,"y":3},"prism":{"x":1,"y":3},"deuterium-fractionation":{"x":2,"y":3},"titanium-crystal":{"x":3,"y":3},"strange-matter":{"x":4,"y":3},"gear":{"x":5,"y":3},"electromagnetic-turbine":{"x":6,"y":3},"circuit-board":{"x":7,"y":3},"graviton-lens":{"x":0,"y":4},"plane-filter":{"x":2,"y":4},"carbon-nanotube":{"x":3,"y":4},"particle-broadband":{"x":4,"y":4},"processor":{"x":5,"y":4},"casimir-crystal":{"x":6,"y":4},"particle-container":{"x":7,"y":4},"microcrystalline-component":{"x":0,"y":5},"quantum-chip":{"x":1,"y":5},"mass-energy-storage":{"x":2,"y":5},"sulfuric-acid":{"x":1,"y":4},"crude-oil":{"x":3,"y":5},"refined-oil":{"x":4,"y":5},"water":{"x":5,"y":5},"hydrogen":{"x":6,"y":5},"deuterium":{"x":7,"y":5},"antimatter":{"x":0,"y":6},"critical-photon":{"x":7,"y":6},"electromagnetic-matrix":{"x":1,"y":6},"energy-matrix":{"x":2,"y":6},"structure-matrix":{"x":3,"y":6},"information-matrix":{"x":4,"y":6},"gravity-matrix":{"x":5,"y":6},"universe-matrix":{"x":6,"y":6}}}')},function(t){t.exports=JSON.parse('{"recipe":{"iron-ingot":{"inputs":{"iron-ore":1},"outputs":{"iron-ingot":1},"facility":"smelting-facility","hand_make":"replicator","time_sec":1},"copper-ingot":{"inputs":{"copper-ore":1},"outputs":{"copper-ingot":1},"facility":"smelting-facility","hand_make":"replicator","time_sec":1},"high-purity-silicon":{"inputs":{"silicon-ore":2},"outputs":{"high-purity-silicon":1},"facility":"smelting-facility","hand_make":"replicator","time_sec":2},"titanium-ingot":{"inputs":{"titanium-ore":2},"outputs":{"titanium-ingot":1},"facility":"smelting-facility","hand_make":"replicator","time_sec":2},"stone-brick":{"inputs":{"stone-ore":1},"outputs":{"stone-brick":1},"facility":"smelting-facility","hand_make":"replicator","time_sec":1},"energetic-graphite":{"inputs":{"coal":2},"outputs":{"energetic-graphite":1},"facility":"smelting-facility","hand_make":"replicator","time_sec":2},"plasma-refining":{"inputs":{"crude-oil":2},"outputs":{"refined-oil":2,"hydrogen":1},"facility":"refining-facility","hand_make":null,"time_sec":4},"plastic":{"inputs":{"energetic-graphite":1,"refined-oil":2},"outputs":{"plastic":1},"facility":"chemical-facility","hand_make":null,"time_sec":3},"graphene":{"inputs":{"energetic-graphite":3,"sulfuric-acid":1},"outputs":{"graphene":2},"facility":"chemical-facility","hand_make":null,"time_sec":3},"graphene-adv":{"inputs":{"fire-ice":2},"outputs":{"graphene":2,"hydrogen":1},"facility":"chemical-facility","hand_make":null,"time_sec":2},"magnet":{"inputs":{"iron-ore":1},"outputs":{"magnet":1},"facility":"smelting-facility","hand_make":"replicator","time_sec":1.5},"magnetic-coil":{"inputs":{"copper-ingot":1,"magnet":2},"outputs":{"magnetic-coil":2},"facility":"assembler","hand_make":"replicator","time_sec":1},"crystal-silicon":{"inputs":{"high-purity-silicon":1},"outputs":{"crystal-silicon":1},"facility":"smelting-facility","hand_make":null,"time_sec":2},"crystal-silicon-adv":{"inputs":{"fractal-silicon":1},"outputs":{"crystal-silicon":1},"facility":"assembler","hand_make":null,"time_sec":4},"titanium-alloy":{"inputs":{"titanium-ingot":4,"steel":4,"sulfuric-acid":8},"outputs":{"titanium-alloy":4},"facility":"smelting-facility","hand_make":null,"time_sec":12},"glass":{"inputs":{"stone-ore":2},"outputs":{"glass":1},"facility":"smelting-facility","hand_make":"replicator","time_sec":2},"diamond":{"inputs":{"energetic-graphite":1},"outputs":{"diamond":1},"facility":"smelting-facility","hand_make":null,"time_sec":2},"diamond-adv":{"inputs":{"kimberlite-ore":1},"outputs":{"diamond":1},"facility":"smelting-facility","hand_make":null,"time_sec":2},"organic-crystal":{"inputs":{"plastic":2,"refined-oil":1,"water":1},"outputs":{"organic-crystal":1},"facility":"chemical-facility","hand_make":null,"time_sec":6},"steel":{"inputs":{"iron-ingot":3},"outputs":{"steel":1},"facility":"smelting-facility","hand_make":null,"time_sec":3},"electric-motor":{"inputs":{"iron-ingot":2,"gear":1,"magnetic-coil":1},"outputs":{"electric-motor":1},"facility":"assembler","hand_make":"replicator","time_sec":2},"titanium-glass":{"inputs":{"glass":2,"titanium-ingot":2,"water":2},"outputs":{"titanium-glass":2},"facility":"assembler","hand_make":"replicator","time_sec":5},"prism":{"inputs":{"glass":3},"outputs":{"prism":2},"facility":"assembler","hand_make":"replicator","time_sec":2},"deuterium-fractionation":{"inputs":{"hydrogen":1},"outputs":{"hydrogen":0.99,"deuterium":0.01},"facility":"fractionation-facility","hand_make":null,"time_sec":1},"titanium-crystal":{"inputs":{"organic-crystal":1,"titanium-ingot":3},"outputs":{"titanium-crystal":1},"facility":"assembler","hand_make":"replicator","time_sec":4},"strange-matter":{"inputs":{"particle-container":2,"iron-ingot":2,"deuterium":10},"outputs":{"strange-matter":1},"facility":"particle-collider","hand_make":null,"time_sec":8},"gear":{"inputs":{"iron-ingot":1},"outputs":{"gear":1},"facility":"assembler","hand_make":"replicator","time_sec":1},"electromagnetic-turbine":{"inputs":{"electric-motor":2,"magnetic-coil":2},"outputs":{"electromagnetic-turbine":1},"facility":"assembler","hand_make":"replicator","time_sec":2},"circuit-board":{"inputs":{"iron-ingot":2,"copper-ingot":1},"outputs":{"circuit-board":2},"facility":"assembler","hand_make":"replicator","time_sec":1},"graviton-lens":{"inputs":{"diamond":4,"strange-matter":1},"outputs":{"graviton-lens":1},"facility":"assembler","hand_make":"replicator","time_sec":6},"sulfuric-acid":{"inputs":{"refined-oil":6,"stone-ore":8,"water":4},"outputs":{"sulfuric-acid":4},"facility":"chemical-facility","hand_make":null,"time_sec":6},"plane-filter":{"inputs":{"casimir-crystal":1,"titanium-glass":2},"outputs":{"plane-filter":1},"facility":"chemical-facility","hand_make":null,"time_sec":12},"carbon-nanotube":{"inputs":{"graphene":3,"titanium-ingot":1},"outputs":{"carbon-nanotube":2},"facility":"chemical-facility","hand_make":null,"time_sec":4},"carbon-nanotube-adv":{"inputs":{"spiniform-stalagmite-crystal":2},"outputs":{"carbon-nanotube":2},"facility":"chemical-facility","hand_make":null,"time_sec":4},"particle-broadband":{"inputs":{"carbon-nanotube":2,"crystal-silicon":2,"plastic":1},"outputs":{"particle-broadband":1},"facility":"assembler","hand_make":"replicator","time_sec":8},"processor":{"inputs":{"circuit-board":2,"microcrystalline-component":2},"outputs":{"processor":1},"facility":"assembler","hand_make":"replicator","time_sec":3},"casimir-crystal":{"inputs":{"titanium-crystal":1,"graphene":2,"hydrogen":12},"outputs":{"casimir-crystal":1},"facility":"assembler","hand_make":"replicator","time_sec":4},"casimir-crystal-adv":{"inputs":{"optical-grating-crystal":6,"graphene":2,"hydrogen":12},"outputs":{"casimir-crystal":1},"facility":"assembler","hand_make":"replicator","time_sec":4},"particle-container":{"inputs":{"electromagnetic-turbine":2,"copper-ingot":2,"graphene":2},"outputs":{"particle-container":1},"facility":"assembler","hand_make":"replicator","time_sec":4},"particle-container-adv":{"inputs":{"copper-ingot":2,"unipolar-magnet":10},"outputs":{"particle-container":1},"facility":"assembler","hand_make":"replicator","time_sec":4},"microcrystalline-component":{"inputs":{"high-purity-silicon":2,"copper-ingot":1},"outputs":{"microcrystalline-component":1},"facility":"assembler","hand_make":"replicator","time_sec":2},"quantum-chip":{"inputs":{"processor":2,"plane-filter":2},"outputs":{"quantum-chip":1},"facility":"assembler","hand_make":"replicator","time_sec":6},"mass-energy-storage":{"inputs":{"critical-photon":2},"outputs":{"hydrogen":2,"antimatter":2},"facility":"particle-collider","hand_make":null,"time_sec":6},"electromagnetic-matrix":{"inputs":{"magnetic-coil":1,"circuit-board":1},"outputs":{"electromagnetic-matrix":1},"facility":"research-facility","hand_make":"replicator","time_sec":3},"energy-matrix":{"inputs":{"energetic-graphite":2,"hydrogen":2},"outputs":{"energy-matrix":1},"facility":"research-facility","hand_make":"replicator","time_sec":6},"structure-matrix":{"inputs":{"diamond":1,"titanium-crystal":1},"outputs":{"structure-matrix":1},"facility":"research-facility","hand_make":"replicator","time_sec":8},"information-matrix":{"inputs":{"processor":2,"particle-broadband":1},"outputs":{"information-matrix":1},"facility":"research-facility","hand_make":"replicator","time_sec":10},"gravity-matrix":{"inputs":{"graviton-lens":1,"quantum-chip":1},"outputs":{"gravity-matrix":2},"facility":"research-facility","hand_make":"replicator","time_sec":24},"universe-matrix":{"inputs":{"electromagnetic-matrix":1,"energy-matrix":1,"structure-matrix":1,"information-matrix":1,"gravity-matrix":1,"antimatter":1},"outputs":{"universe-matrix":1},"facility":"research-facility","hand_make":"replicator","time_sec":15}},"advanced_recipe":{"sulfuric-acid":{"item":"sulfuric-acid","recipe":"dummy"},"organic-crystal":{"item":"organic-crystal","recipe":"dummy"},"fire-ice":{"item":"graphene","recipe":"graphene-adv"},"fractal-silicon":{"item":"crystal-silicon","recipe":"crystal-silicon-adv"},"kimberlite-ore":{"item":"diamond","recipe":"diamond-adv"},"spiniform-stalagmite-crystal":{"item":"carbon-nanotube","recipe":"carbon-nanotube-adv"},"optical-grating-crystal":{"item":"casimir-crystal","recipe":"casimir-crystal-adv"},"unipolar-magnet":{"item":"particle-container","recipe":"particle-container-adv"}},"facility":{"smelter":{"type":"smelting-facility","crafting_speed":1},"assembling-machine-mk3":{"type":"assembler","crafting_speed":1.5},"chemical-plant":{"type":"chemical-facility","crafting_speed":1},"oil-refinery":{"type":"refining-facility","crafting_speed":1},"matrix-lab":{"type":"research-facility","crafting_speed":1},"fractionator":{"type":"fractionation-facility","crafting_speed":30},"miniature-particle-collider":{"type":"particle-collider","crafting_speed":1}},"hand_make":{"replicator":{"type":"replicator","crafting_speed":1}}}')},function(t,e,i){"use strict";var n=i(4),a=i.n(n)()((function(t){return t[1]}));a.push([t.i,'body {\n  font-size: 0.8em;\n  font-family: Helvetica, Arial, sans-serif;\n  color: #d2d2d2;\n  background-color: #1a1d21;\n}\n\nbody > * {\n  margin: 16px 8px;\n}\n\n.title {\n  font-weight: bold;\n}\n\n#amount-tables {\n  display: flex;\n}\n\n#amount-tables > * {\n  margin-right: 16px;\n  flex-grow: 1;\n}\n\ntable {\n  border-collapse: separate;\n  border-spacing: 0;\n}\n\ntd {\n  padding: 4px 8px;\n}\n\nthead td {\n  font-weight: bold;\n  background-color: #2a2d31;\n}\n\ntbody td {\n  border-bottom: 1px solid #2a2d31;\n}\n\n.item-name {\n  display: flex;\n  align-items: center;\n  min-width: 200px;\n}\n\n.item-name * {\n  margin-right: 6px;\n}\n\n.item-amount, .item-facilities {\n  text-align: right;\n  width: 80px;\n}\n\n#target-amount-container {\n  display: flex;\n  align-items: center;\n}\n\n#target-amount-container > * {\n  margin: 0 2px;\n}\n\n#target-amount-container > #target-name {\n  margin-right: 8px;\n}\n\ninput[type="text"] {\n  color: #d2d2d2;\n  background-color: #1a1d21;\n  border: 1px solid #d2d2d2;\n  width: 60px;\n  text-align: right;\n}\n\n#rare-ore-chooser-container {\n  margin: 0 24px;\n}\n\n#rare-ore-chooser-container > * {\n  display: flex;\n  align-items: center;\n}\n\n#rare-ore-chooser-container > * > * {\n  margin: 2px;\n}\n',""]),e.a=a},function(t,e,i){"use strict";var n,a=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},r=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}(),c=[];function o(t){for(var e=-1,i=0;i<c.length;i++)if(c[i].identifier===t){e=i;break}return e}function s(t,e){for(var i={},n=[],a=0;a<t.length;a++){var r=t[a],s=e.base?r[0]+e.base:r[0],l=i[s]||0,u="".concat(s," ").concat(l);i[s]=l+1;var m=o(u),p={css:r[1],media:r[2],sourceMap:r[3]};-1!==m?(c[m].references++,c[m].updater(p)):c.push({identifier:u,updater:y(p,e),references:1}),n.push(u)}return n}function l(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var a=i.nc;a&&(n.nonce=a)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var c=r(t.insert||"head");if(!c)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");c.appendChild(e)}return e}var u,m=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function p(t,e,i,n){var a=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=m(e,a);else{var r=document.createTextNode(a),c=t.childNodes;c[e]&&t.removeChild(c[e]),c.length?t.insertBefore(r,c[e]):t.appendChild(r)}}function d(t,e,i){var n=i.css,a=i.media,r=i.sourceMap;if(a?t.setAttribute("media",a):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var f=null,h=0;function y(t,e){var i,n,a;if(e.singleton){var r=h++;i=f||(f=l(e)),n=p.bind(null,i,r,!1),a=p.bind(null,i,r,!0)}else i=l(e),n=d.bind(null,i,e),a=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else a()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=a());var i=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<i.length;n++){var a=o(i[n]);c[a].references--}for(var r=s(t,e),l=0;l<i.length;l++){var u=o(i[l]);0===c[u].references&&(c[u].updater(),c.splice(u,1))}i=r}}}},function(t,e,i){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=t(e);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,n){"string"==typeof t&&(t=[[null,t,""]]);var a={};if(n)for(var r=0;r<this.length;r++){var c=this[r][0];null!=c&&(a[c]=!0)}for(var o=0;o<t.length;o++){var s=[].concat(t[o]);n&&a[s[0]]||(i&&(s[2]?s[2]="".concat(i," and ").concat(s[2]):s[2]=i),e.push(s))}},e}},function(t,e,i){"use strict";i.r(e);var n=i(3),a=i.n(n),r=i(2),c={insert:"head",singleton:!1},o=(a()(r.a,c),r.a.locals,i(1)),s=i(0);class l{constructor(t,e=document.createElement("div")){if(void 0===s.offsets[t])return console.warn("item icon not found. : itemName="+t),e;const i=s.offsets[t].x*s.width,n=s.offsets[t].y*s.height;return e.style.width="16px",e.style.height="16px",e.style.backgroundImage='url("assets/icon.png")',e.style.backgroundPosition=`${-i}px ${-n}px`,e}}class u{constructor(){this._group=document.createElement("div"),this._group.setAttribute("id","amount-tables"),this._tableBodies=[],this._curData={},this._curTableNum=0,window.addEventListener("resize",this.onWindowResize.bind(this)),this.onWindowResize()}get domElement(){return this._group}onWindowResize(){let t;const e=window.innerWidth;t=e<900?1:e<1300?2:3,this._curTableNum!==t&&(this._curTableNum=t,this.setTableNum(t))}setTableNum(t){this.clearChildren(this._group),this._tableBodies=[];for(let e=0;e<t;e++){const t=document.createElement("table");this._group.appendChild(t);const e=document.createElement("thead");t.appendChild(e),this.createHeader(e);const i=document.createElement("tbody");t.appendChild(i),this._tableBodies.push(i)}this.update(this._curData)}createHeader(t){const e=document.createElement("tr");t.appendChild(e);const i=document.createElement("td");i.textContent="Name",e.appendChild(i);const n=document.createElement("td");n.textContent="Amount (/m)",e.appendChild(n);const a=document.createElement("td");a.textContent="Facilities",e.appendChild(a)}clearChildren(t){for(;t.children.length>0;)t.removeChild(t.children[0])}update(t){this._curData=t;const e=Object.keys(t).length,i=Math.ceil(e/this._tableBodies.length);for(const[n,a]of this._tableBodies.entries()){const r=n*i,c=Math.min((n+1)*i,e),o=Object.fromEntries(Object.entries(t).slice(r,c));this.updateCore(a,o)}}updateCore(t,e){this.clearChildren(t);for(const i in e){const n=document.createElement("tr");t.appendChild(n);const a=document.createElement("td");n.appendChild(a),a.classList.add("item-name");{const t=new l(i);a.appendChild(t);const e=document.createElement("div");a.appendChild(e),e.textContent=i}const r=document.createElement("td");n.appendChild(r),r.classList.add("item-amount"),r.textContent=e[i].amount.toFixed(1);const c=document.createElement("td");n.appendChild(c),c.classList.add("item-facilities"),null!==e[i].facilities&&(c.textContent=e[i].facilities.toFixed(3))}}}class m{constructor(t,e,i){const n=void 0!==i[t]?i[t]:t;if(this._recipe=o.recipe[n],this._name=t,this._usedFacility=void 0!==this._recipe?o.facility[e[this._recipe.facility]]:null,this._children={},void 0!==this._recipe)for(const t in this._recipe.inputs)this._children[t]=new m(t,e,i);this._ingredients={}}update(t){const e=this._recipe,i=this._name;if(this._ingredients[i]={amount:t,facilities:null},void 0===e)return;const n=t/e.outputs[i],a=e.time_sec/60/this._usedFacility.crafting_speed;this._ingredients[i].facilities=n*a;for(const[t,a]of Object.entries(e.outputs))t!==i&&(this._ingredients[t]={amount:-1*n*a,facilities:null});for(const[t,i]of Object.entries(this._children)){const a=n*e.inputs[t];i.update(a)}}getIngredients(t={}){this._name;for(const[e,i]of Object.entries(this._ingredients))void 0===t[e]&&(t[e]={amount:0,facilities:null}),null!==i.facilities&&null===t[e].facilities&&(t[e].facilities=0),t[e].amount+=i.amount,null!==i.facilities&&(t[e].facilities+=i.facilities);for(const e of Object.values(this._children))e.getIngredients(t);return t}}class p{constructor(){this._renderer=new u,document.querySelector("#table-container").appendChild(this._renderer.domElement);const t=document.querySelector("#target-amount");t.setAttribute("type","text"),t.addEventListener("input",t=>{const e=parseFloat(t.target.value);isNaN(e)||(this._curAmount=e,this.setTarget(e))}),this._usedFacilityMap={assembler:"assembling-machine-mk3","smelting-facility":"smelter","chemical-facility":"chemical-plant","refining-facility":"oil-refinery","research-facility":"matrix-lab","fractionation-facility":"fractionator","particle-collider":"miniature-particle-collider"},this._overrideRecipeMap={"refined-oil":"plasma-refining",deuterium:"deuterium-fractionation",antimatter:"mass-energy-storage"},this._order={};for(const[t,e]of Object.keys(s.offsets).entries())this._order[e]=t;this._targetItemName="universe-matrix",this._targetItem=new m(this._targetItemName,this._usedFacilityMap,this._overrideRecipeMap),new l(this._targetItemName,document.querySelector("#target-icon")),document.querySelector("#target-name").textContent=this._targetItemName;const e=document.querySelector("#rare-ore-chooser-container");for(const t in o.advanced_recipe){const i=document.createElement("div");e.appendChild(i);const n=document.createElement("input");i.appendChild(n),n.setAttribute("type","checkbox"),n.setAttribute("value",t),n.addEventListener("change",t=>{const e=o.advanced_recipe[t.target.value].item,i=o.advanced_recipe[t.target.value].recipe;this._overrideRecipeMap[e]=t.target.checked?i:e,this._targetItem=new m(this._targetItemName,this._usedFacilityMap,this._overrideRecipeMap),this.setTarget(this._curAmount)});const a=new l(t);i.appendChild(a);const r=document.createElement("label");i.appendChild(r),r.textContent=t}this._curAmount=100,t.value=this._curAmount.toString(10),this.setTarget(this._curAmount)}setTarget(t){this._targetItem.update(t);const e=this._targetItem.getIngredients(),i=Object.entries(e);i.sort((t,e)=>{const i=this._order[t[0]],n=this._order[e[0]];return i<n?-1:i>n?1:0});const n=Object.fromEntries(i);this._renderer.update(n)}}document.addEventListener("DOMContentLoaded",()=>{new p})}]);